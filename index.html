<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Drone Image Composite + Leaflet</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
 integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
 integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

<style>
  html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center; /* horizontal */
      align-items: center;     /* vertical */
      background: #2c3e50;
  }

  /* Carte Leaflet en fond */
  #map {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
  }

  /* Grille de tuiles centr√©e */
  .image-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-template-rows: repeat(4, 1fr);
      gap: 0;
      width: 1024px;
      height: 1024px;
      z-index: 100; /* devant la carte */
  }

  .tile {
      width: 100%;
      height: 100%;
      object-fit: cover;
  }
</style>
</head>
<body>

<div id="map"></div>

<div class="image-grid" id="imageGrid"></div>

<script>
  // Leaflet map
  const map = L.map('map').setView([51.505, -0.09], 13);
  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
  }).addTo(map);

  // Ordre exact des tuiles pour la composite
  const tilePaths = ["1_0.png","1.png","2.png","3.png","4.png","5.png","6.png","7.png",
                     "8.png","9.png","10.png","11.png","12.png","13.png","14.png","15.png"];

  const grid = document.getElementById('imageGrid');
  tilePaths.forEach((path, index) => {
      const img = document.createElement('img');
      img.src = path;
      img.alt = `Tuile ${index}`;
      img.className = 'tile';
      img.onerror = function() {
          this.src = 'https://via.placeholder.com/256/ecf0f1/34495e?text=Tuile+' + index;
      };
      grid.appendChild(img);
  });
</script>

</body>
</html>
